{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Route,Switch,Redirect}from'react-router-dom';import NavigationBar from'./navigation-bar';import Home from'./home/home';import PersonContainer from'./person/person-container';import ErrorPage from'./commons/errorhandling/error-page';import styles from'./commons/styles/project-style.module.css';import LoginForm from'./login/components/login-form';import DeviceContainer from'./device/device-container';import MyDeviceContainer from'./my-device/my-device-container';import WebSocketComponent from'./statistics/WebSocketComponent';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class App extends React.Component{render(){return/*#__PURE__*/_jsx(\"div\",{className:styles.back,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavigationBar,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:()=>/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/person\",render:()=>{const role=sessionStorage.getItem('role');if(role==='ROLE_ADMIN'){return/*#__PURE__*/_jsx(PersonContainer,{});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/device\",render:()=>{const role=sessionStorage.getItem('role');if(role==='ROLE_ADMIN'){return/*#__PURE__*/_jsx(DeviceContainer,{});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/auth/login\",render:()=>/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/myDevice\",render:()=>{const role=sessionStorage.getItem('role');if(role==='ROLE_USER'){return/*#__PURE__*/_jsx(MyDeviceContainer,{});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/ws\",render:()=>{const personId=sessionStorage.getItem('personId');const role=sessionStorage.getItem('role');if(role==='ROLE_USER'){return/*#__PURE__*/_jsx(WebSocketComponent,{personId:personId});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/error\",render:()=>/*#__PURE__*/_jsx(ErrorPage,{})}),/*#__PURE__*/_jsx(Route,{render:()=>/*#__PURE__*/_jsx(ErrorPage,{})})]})]})})});}}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Route","Switch","Redirect","NavigationBar","Home","PersonContainer","ErrorPage","styles","LoginForm","DeviceContainer","MyDeviceContainer","WebSocketComponent","jsx","_jsx","jsxs","_jsxs","App","Component","render","className","back","children","exact","path","role","sessionStorage","getItem","to","personId"],"sources":["C:/Users/prico/OneDrive/Desktop/Faculta/SD/Assignment_3/react-demo/src/app.js"],"sourcesContent":["import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom'\r\nimport NavigationBar from './navigation-bar'\r\nimport Home from './home/home';\r\nimport PersonContainer from './person/person-container'\r\n\r\nimport ErrorPage from './commons/errorhandling/error-page';\r\nimport styles from './commons/styles/project-style.module.css';\r\nimport LoginForm from './login/components/login-form';\r\nimport DeviceContainer from './device/device-container';\r\nimport MyDeviceContainer from './my-device/my-device-container';\r\nimport WebSocketComponent from './statistics/WebSocketComponent';\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.back}>\r\n                <Router>\r\n                    <div>\r\n                        <NavigationBar />\r\n                        <Switch>\r\n\r\n                            <Route\r\n                                exact\r\n                                path='/'\r\n                                render={() => <Home />}\r\n                            />\r\n\r\n                            <Route\r\n\r\n                                exact\r\n                                path='/person'\r\n                                render={() => {\r\n                                    const role = sessionStorage.getItem('role');\r\n                                    if (role === 'ROLE_ADMIN') {\r\n                                        return <PersonContainer />\r\n                                    } else {\r\n                                        return <Redirect to=\"/\" />\r\n                                    }\r\n                                }}\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path='/device'\r\n                                render={() => {\r\n                                    const role = sessionStorage.getItem('role');\r\n                                    if (role === 'ROLE_ADMIN') {\r\n                                        return <DeviceContainer />\r\n                                    } else {\r\n                                        return <Redirect to=\"/\" />\r\n                                    }\r\n                                }}\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path='/auth/login'\r\n                                render={() => <LoginForm />}\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path='/myDevice'\r\n                                render={() => {\r\n                                    const role = sessionStorage.getItem('role');\r\n                                    if (role === 'ROLE_USER') {\r\n                                        return <MyDeviceContainer />\r\n                                    } else {\r\n                                        return <Redirect to=\"/\" />\r\n                                    }\r\n                                }}\r\n                            />\r\n\r\n\r\n                            <Route\r\n                                exact\r\n                                path='/ws' \r\n                                render={() => {\r\n                                    const personId = sessionStorage.getItem('personId');\r\n                                    const role = sessionStorage.getItem('role');\r\n                                    if (role === 'ROLE_USER') {\r\n                                        return <WebSocketComponent personId={personId}/>\r\n                                    } else {\r\n                                        return <Redirect to=\"/\" />\r\n                                    }\r\n                                }}\r\n                            />\r\n\r\n                            {/*Error*/}\r\n                            <Route\r\n                                exact\r\n                                path='/error'\r\n                                render={() => <ErrorPage />}\r\n                            />\r\n\r\n                            <Route render={() => <ErrorPage />} />\r\n                        </Switch>\r\n\r\n                    </div>\r\n                </Router>\r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nexport default App\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}