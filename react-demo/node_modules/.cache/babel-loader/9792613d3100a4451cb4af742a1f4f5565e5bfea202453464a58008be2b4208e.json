{"ast":null,"code":"import React,{Component}from\"react\";import ReactTable from'react-table';import'react-table/react-table.css';import Field from\"./fields/Field\";import{Col,Row}from\"react-bootstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Table extends Component{constructor(props){super(props);this.state={data:props.data,columns:props.columns,search:props.search,filters:[],getTrPropsFunction:props.getTrProps,pageSize:props.pageSize||10};}search(){}filter(data){let accepted=true;this.state.filters.forEach(val=>{if(String(val.value)===\"\"){accepted=true;}if(!String(data[val.accessor]).includes(String(val.value))&&!String(val.value).includes(String(data[val.accessor]))){accepted=false;}});return accepted;}handleChange(value,index,header){if(this.state.filters===undefined)this.setState({filters:[]});this.state.filters[index]({value:value.target.value,accessor:header});this.forceUpdate();}getTRPropsType(state,rowInfo){if(rowInfo){return{style:{textAlign:\"center\"}};}else return{};}render(){let data=this.state.data?this.state.data.filter(data=>this.filter(data)):[];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{children:this.state.search.map((header,index)=>{return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Field,{id:header.accessor,label:header.accessor,onChange:e=>this.handleChange(e,index,header.accessor)})})},index);})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(ReactTable,{data:data,resolveData:data=>data.map(row=>row),columns:this.state.columns,defaultPageSize:this.state.pageSize,getTrProps:this.getTRPropsType,showPagination:true,style:{height:'300px'}})})})]});}}export default Table;","map":{"version":3,"names":["React","Component","ReactTable","Field","Col","Row","jsx","_jsx","jsxs","_jsxs","Table","constructor","props","state","data","columns","search","filters","getTrPropsFunction","getTrProps","pageSize","filter","accepted","forEach","val","String","value","accessor","includes","handleChange","index","header","undefined","setState","target","forceUpdate","getTRPropsType","rowInfo","style","textAlign","render","children","map","id","label","onChange","e","resolveData","row","defaultPageSize","showPagination","height"],"sources":["C:/Users/prico/OneDrive/Desktop/Faculta/SD/Assignment_3/react-demo/src/commons/tables/table.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport ReactTable from 'react-table';\r\nimport 'react-table/react-table.css';\r\nimport Field from \"./fields/Field\";\r\nimport {Col, Row} from \"react-bootstrap\";\r\n\r\nclass Table extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.data,\r\n            columns: props.columns,\r\n            search: props.search,\r\n            filters: [],\r\n            getTrPropsFunction: props.getTrProps,\r\n            pageSize: props.pageSize || 10,\r\n        };\r\n    }\r\n\r\n    search() {\r\n\r\n    }\r\n\r\n    filter(data) {\r\n        let accepted = true;\r\n\r\n        this.state.filters.forEach(val => {\r\n            if (String(val.value) === \"\") {\r\n                accepted = true;\r\n            }\r\n\r\n            if (!String(data[val.accessor]).includes(String(val.value)) && !String(val.value).includes(String(data[val.accessor]))) {\r\n                accepted = false;\r\n            }\r\n        });\r\n\r\n        return accepted;\r\n    }\r\n\r\n    handleChange(value, index, header) {\r\n        if (this.state.filters === undefined)\r\n            this.setState({filters: []});\r\n\r\n        this.state.filters[index]({\r\n            value: value.target.value,\r\n            accessor: header\r\n        });\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n\r\n    getTRPropsType(state, rowInfo) {\r\n        if (rowInfo) {\r\n            return {\r\n                style: {\r\n                    textAlign: \"center\"\r\n                }\r\n            };\r\n        }\r\n        else\r\n            return {};\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let data = this.state.data ? this.state.data.filter(data => this.filter(data)) : [];\r\n\r\n        return (\r\n            <div>\r\n                <Row>\r\n                    {\r\n                        this.state.search.map((header, index) => {\r\n                            return (\r\n                                <Col key={index}>\r\n                                    <div >\r\n                                        <Field id={header.accessor} label={header.accessor}\r\n                                               onChange={(e) => this.handleChange(e, index, header.accessor)}/>\r\n                                    </div>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <ReactTable\r\n                            data={data}\r\n                            resolveData={data => data.map(row => row)}\r\n                            columns={this.state.columns}\r\n                            defaultPageSize={this.state.pageSize}\r\n                            getTrProps={this.getTRPropsType}\r\n                            showPagination={true}\r\n                            style={{\r\n                                height: '300px'\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Table;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}